#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ¨ Running Prettier formatting..."
pnpm format:fix

echo "ğŸ”„ Linting..."
pnpm lint:fix

if ! git diff --exit-code --quiet; then
  echo "ğŸ“ Auto-staging formatting changes..."
  git add .
fi

echo "ğŸ”„ Building..."
pnpm build  

# Run tests
echo "ğŸ§ª Running tests..."
pnpm test
